# Kibana Documentation Analysis Scripts

This directory contains three different approaches to analyze the state and quality of README documentation across the Kibana codebase.

## Available Scripts

### Approach 1: Script-Based Analysis with Quality Scoring
**File:** `analyze_documentation.js`
**Description:** JavaScript script that provides balanced detail and performance with quality scoring.

**Features:**
- Analyzes README files across all package directories
- Generates quality scores based on content indicators
- Identifies generated/placeholder content
- Provides detailed statistics and examples

**Run with:**
```bash
node scripts/analyze_documentation.js
```

### Approach 2: Shell-Based Analysis with Pattern Matching
**File:** `doc_analysis.sh`
**Description:** Fast shell script using find and grep for quick metrics.

**Features:**
- Fastest execution for quick metrics
- Uses native shell commands (find, grep, wc)
- Provides basic statistics and breakdowns
- Shows examples of packages without documentation

**Run with:**
```bash
./scripts/doc_analysis.sh
```

### Approach 3: AST-Based Analysis with Content Categorization
**File:** `advanced_doc_analysis.js`
**Description:** Sophisticated analysis with detailed content parsing and categorization.

**Features:**
- Most comprehensive analysis
- Categorizes packages by type (core, platform, solution, x-pack)
- Detailed content feature analysis
- Quality tier classification
- Feature breakdown (installation, usage, API, testing, contributing)

**Run with:**
```bash
node scripts/advanced_doc_analysis.js
```

## Output Examples

Each script provides different levels of detail:

### Approach 1 Output:
```
Kibana Documentation Analysis:
Total packages/plugins: 450
No README: 123 (27.3%)
Generated/Placeholder: 87 (19.3%)
Low Quality (â‰¤3): 156 (34.7%)
Medium Quality (4-6): 67 (14.9%)
High Quality (>6): 17 (3.8%)
```

### Approach 2 Output:
```
=== Kibana Documentation Analysis ===
Total packages/plugins found: 450
Packages without README.md: 123 (27.3%)
Generated/Placeholder READMEs: 87
Short READMEs (<100 words): 156
Comprehensive READMEs (>300 words + sections): 17
```

### Approach 3 Output:
```
=== Detailed Kibana Documentation Analysis ===
Total packages analyzed: 450

=== Overall Quality Distribution ===
none: 123 (27.3%)
placeholder: 87 (19.3%)
basic: 156 (34.7%)
good: 67 (14.9%)
excellent: 17 (3.8%)

CORE (150 packages):
  none: 45 (30.0%)
  placeholder: 25 (16.7%)
  basic: 60 (40.0%)
  good: 15 (10.0%)
  excellent: 5 (3.3%)
```

## Prerequisites

- **Node.js**: Use the version specified in `.nvmrc` (no additional dependencies required)
- **bc calculator**: For shell script percentage calculations (usually pre-installed on macOS/Linux)
- **yarn kbn bootstrap**: Must be run first to set up the Kibana development environment

## Performance Comparison

| Approach | Speed | Detail Level | Use Case |
|----------|-------|--------------|----------|
| Shell Script | Fastest (~5-10s) | Basic | Quick overview |
| JavaScript Basic | Medium (~30-60s) | Detailed | Regular analysis |
| JavaScript Advanced | Slower (~1-2min) | Comprehensive | Deep analysis |

## Analysis Scope

All scripts analyze the following directories:
- `packages/*` - Core Kibana packages
- `src/platform/*` - Platform-level components
- `x-pack/packages/*` - X-Pack packages
- `x-pack/platform/packages/*` - X-Pack platform packages
- `x-pack/solutions/*/packages/*` - Solution-specific packages
- `x-pack/solutions/*/plugins/*` - Solution-specific plugins

## Quality Indicators

The scripts look for various quality indicators:
- **Installation/Setup instructions**
- **Usage examples**
- **API documentation**
- **Testing information**
- **Contributing guidelines**
- **Architecture/design information**

## Generated Content Detection

All scripts detect generated or placeholder content by looking for patterns like:
- "This is a placeholder README"
- "TODO: Add documentation"
- "Generated by @kbn/plugin-generator"
- "Add your plugin description here"

## Customization

You can modify the search patterns, quality indicators, or output formats by editing the respective script files. Each script is well-commented to facilitate customization.
